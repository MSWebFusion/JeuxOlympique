@model JeuxOlympique.Models.IndexViewModel
@using JeuxOlympique.Models
@using Microsoft.AspNet.Identity
@{
    ViewBag.Title = "Mon compte";
}

@{
    var manager = new UserManager<ApplicationUser>(new Microsoft.AspNet.Identity.EntityFramework.UserStore<ApplicationUser>(new ApplicationDbContext()));
    var currentUser = manager.FindById(User.Identity.GetUserId());
}
<h2>@ViewBag.Title.</h2>

<p class="text-success">@ViewBag.StatusMessage</p>
<div>
    <h4>Modifier les paramètres de votre compte</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>Nom
        <dd>
            @if (currentUser.Nom != null)
            {
                @Html.Label("", currentUser.Nom)
            }
        </dd>
        <dt>Prénom
        <dd>
            @if (currentUser.Prenom != null)
            {
                @Html.Label("", currentUser.Prenom)
            }
        </dd>
        <dt>Mail
        <dd>
            @if (currentUser.Email != null)
            {
                @Html.Label("", currentUser.Email.ToString())
            }
        </dd>
        <dt>Mot de passe:</dt>
        <dd>
            [
            @if (Model.HasPassword)
            {
                @Html.ActionLink("Changer le Mot de passe", "ChangePassword")
            }
            else
            {
                @Html.ActionLink("Create", "SetPassword")
            }
            ]
        </dd>
    </dl>
</div>
